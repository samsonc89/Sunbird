---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import Calendly from "../components/Calendly.astro";
import { test1, test2, test3, vector } from "../assets";
import testimonials from "../data/testimonials.json";
import TestimonialCard from "../components/TestimonialCard.astro";
import Carousel from "../components/CarouselComponent.astro";

const metaData = {
    title: "Testimonials | Sunbird Speech Therapy",
    description:
        "We'll walk you through step-by-step on how we help you lower your out-of-pocket costs to do your energy efficieny upgrades.",
};
---

<Layout title={metaData.title} metaDescription={metaData.description}>
    <section class="bg-[--secondary]">
        <div class="max-container py-16">
            <h2 class="max-md:text-center max-md:text-2xl">Testimonials</h2>

            <!-- Carousel -->

            <div
                id="indicators-carousel"
                class="relative w-full"
                data-carousel="static"
            >
                <!-- Carousel wrapper -->
                <div class="relative min-h-[28rem] overflow-hidden rounded-lg md:min-h-[28rem]">
                    <!-- Item 1 -->
                    <div
                        class="hidden duration-700 ease-in-out"
                        data-carousel-item="active"
                    >
                        <div class="">
                            <Image
                                src={test1}
                                alt="test1"
                                class="absolute block w-1/2 -translate-x-full -translate-y-1/2 top-1/2 left-1/2 shadow-lg ml-24"
                            />

                            <h6 class="bg-white absolute w-1/2 left-1/3 -translate-y-1/2 -translate-x-1/12 top-1/2 ml-24 p-8 shadow-2xl rounded-lg text-center">“We were so very lucky to work with Rana as early as my son's diagnosis at seven months old. Things felt overwhelming at first but Rana was able to ease our minds with her deep and collective knowledge on speech delays as they pertain to his diagnosis. It was a comforting and rewarding experience to work with her, as we always felt cared for and knew our son was in great hands. She helped our family easily understand how we could help our son thrive outside of therapy and that has been priceless. Rana truly has a gift for helping kiddos realize what they are capable of, and she has dedicated herself to ensuring families can have meaningful communication with children who have speech differences or delays! We are proud to have known Rana, and we are so proud of the work she is doing in the community!” </h6>
                        </div>
                    </div>
                    <!-- Item 2 -->
                    <div
                        class="hidden duration-700 ease-in-out"
                        data-carousel-item
                    >
                        <img
                            src="/src/assets/images/test2.png"
                            class="absolute block w-1/2 -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
                            alt="..."
                        />
                    </div>
                    <!-- Item 3 -->
                    <div
                        class="hidden duration-700 ease-in-out"
                        data-carousel-item
                    >
                        <img
                            src="/src/assets/images/test3.png"
                            class="absolute block w-1/2 -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
                            alt="..."
                        />
                    </div>
                    <!-- Item 4 -->
                    <div
                        class="hidden duration-700 ease-in-out"
                        data-carousel-item
                    >
                    <Image
                    src={test1}
                    alt="test1"
                    class="translate-x-3/4 overflow-hidden"
                />
                        <!-- <img
                            src="/docs/images/carousel/carousel-4.svg"
                            class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
                            alt="..."
                        /> -->
                    </div>
                    <!-- Item 5 -->
                    <div
                        class="hidden duration-700 ease-in-out"
                        data-carousel-item
                    >
                        <!-- <img
                            src="/docs/images/carousel/carousel-5.svg"
                            class="absolute block w-full -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2"
                            alt="..."
                        /> -->
                        <Image
                        src={test2}
                        alt="test1"
                        class="translate-x-2/4 overflow-hidden"
                    />
                    </div>
                </div>
                <!-- Slider indicators -->
                <div
                    class="absolute flex -translate-x-1/2 translate-y-14 space-x-0 rtl:space-x-reverse bottom-5 left-1/2 bg-[--secondary-accent]"
                >
                    <button
                        type="button"
                        class="w-14 h-2 max-md:w-8"
                        aria-current="true"
                        aria-label="Slide 1"
                        data-carousel-slide-to="0"></button>
                    <button
                        type="button"
                        class="w-14 h-2 max-md:w-8"
                        aria-current="false"
                        aria-label="Slide 2"
                        data-carousel-slide-to="1"></button>
                    <button
                        type="button"
                        class="w-14 h-2 max-md:w-8"
                        aria-current="false"
                        aria-label="Slide 3"
                        data-carousel-slide-to="2"></button>
                    <button
                        type="button"
                        class="w-14 h-2 max-md:w-8"
                        aria-current="false"
                        aria-label="Slide 4"
                        data-carousel-slide-to="3"></button>
                    <button
                        type="button"
                        class="w-14 h-2 max-md:w-8"
                        aria-current="false"
                        aria-label="Slide 5"
                        data-carousel-slide-to="4"></button>
                </div>
                <!-- Slider controls -->
                <button
                    type="button"
                    class="absolute top-0 start-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
                    data-carousel-prev
                >
                    <span
                        class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none"
                    >
                        <svg
                            class="w-4 h-4 text-white dark:text-gray-800 rtl:rotate-180"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 6 10"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M5 1 1 5l4 4"></path>
                        </svg>
                        <span class="sr-only">Previous</span>
                    </span>
                </button>
                <button
                    type="button"
                    class="absolute top-0 end-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
                    data-carousel-next
                >
                    <span
                        class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 dark:bg-gray-800/30 group-hover:bg-white/50 dark:group-hover:bg-gray-800/60 group-focus:ring-4 group-focus:ring-white dark:group-focus:ring-gray-800/70 group-focus:outline-none"
                    >
                        <svg
                            class="w-4 h-4 text-white dark:text-gray-800 rtl:rotate-180"
                            aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg"
                            fill="none"
                            viewBox="0 0 6 10"
                        >
                            <path
                                stroke="currentColor"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="m1 9 4-4-4-4"></path>
                        </svg>
                        <span class="sr-only">Next</span>
                    </span>
                </button>

                <script>
                    import { Carousel } from "flowbite";
                    import type {
                        CarouselItem,
                        CarouselOptions,
                        CarouselInterface,
                    } from "flowbite";
                    import type { InstanceOptions } from "flowbite";

                    const carouselElement =
                        document.getElementById("carousel-example");

                    const items: CarouselItem[] = [
                        {
                            position: 0,
                            el: document.getElementById(
                                "carousel-item-1",
                            ) as HTMLElement,
                        },
                        {
                            position: 1,
                            el: document.getElementById(
                                "carousel-item-2",
                            ) as HTMLElement,
                        },
                        {
                            position: 2,
                            el: document.getElementById(
                                "carousel-item-3",
                            ) as HTMLElement,
                        },
                        {
                            position: 3,
                            el: document.getElementById(
                                "carousel-item-4",
                            ) as HTMLElement,
                        },
                    ];

                    // object options with default values
                    const options: CarouselOptions = {
                        defaultPosition: 1,
                        interval: 3000,

                        indicators: {
                            activeClasses: "bg-white dark:bg-gray-800",
                            inactiveClasses:
                                "bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800",
                            items: [
                                {
                                    position: 0,
                                    el: document.getElementById(
                                        "carousel-indicator-1",
                                    ) as HTMLElement,
                                },
                                {
                                    position: 1,
                                    el: document.getElementById(
                                        "carousel-indicator-2",
                                    ) as HTMLElement,
                                },
                                {
                                    position: 2,
                                    el: document.getElementById(
                                        "carousel-indicator-3",
                                    ) as HTMLElement,
                                },
                                {
                                    position: 3,
                                    el: document.getElementById(
                                        "carousel-indicator-4",
                                    ) as HTMLElement,
                                },
                            ],
                        },

                        // callback functions
                        onNext: () => {
                            console.log("next slider item is shown");
                        },
                        onPrev: () => {
                            console.log("previous slider item is shown");
                        },
                        onChange: () => {
                            console.log("new slider item has been shown");
                        },
                    };

                    // instance options object
                    const instanceOptions: InstanceOptions = {
                        id: "carousel-example",
                        override: true,
                    };

                    const carousel: CarouselInterface = new Carousel(
                        carouselElement,
                        items,
                        options,
                        instanceOptions,
                    );

                    carousel.cycle();

                    // set event listeners for prev and next buttons
                    const $prevButton = document.getElementById(
                        "data-carousel-prev",
                    ) as HTMLElement;
                    const $nextButton = document.getElementById(
                        "data-carousel-next",
                    ) as HTMLElement;

                    $prevButton.addEventListener("click", () => {
                        carousel.prev();
                    });

                    $nextButton.addEventListener("click", () => {
                        carousel.next();
                    });
                </script>
            </div>
        </div>
    </section>

    <section class="bg-[--secondary]">
        <div class="max-container py-12 max-xl:px-6">
          <div class="flex max-md:justify-center">
            <Image src={vector} alt="vector" class="py-6 max-md:p-4" />
          </div>
          <h2
            class="text-[--primary-text] py-6 max-md:text-4xl max-md:text-center max-md:p-4"
          >
            Testimonials
          </h2>
          <div class="py-12">
            <Carousel />
          </div>
        </div>
      </section>

    <section>
        <Calendly />
    </section>
</Layout>

<style>
    * {
        /* border: 1px solid red; */
    }
</style>
